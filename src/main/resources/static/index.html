<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Management System</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/umd/lucide.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="app-container">
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">
            <h1>ProjectHub</h1>
        </div>
        <nav>
            <div class="nav-item active" onclick="showSection('dashboard')">
                <i data-lucide="home"></i>
                <span>Dashboard</span>
            </div>
            <div class="nav-item" onclick="showSection('projects')">
                <i data-lucide="folder"></i>
                <span>Projects</span>
            </div>
            <div class="nav-item" onclick="showSection('tasks')">
                <i data-lucide="check-square"></i>
                <span>Tasks</span>
            </div>
            <div class="nav-item" onclick="showSection('users')">
                <i data-lucide="users"></i>
                <span>Users</span>
            </div>
            <div class="nav-item" onclick="showSection('teams')">
                <i data-lucide="users-2"></i>
                <span>Teams</span>
            </div>
            <div class="nav-item" onclick="showSection('calendar')">
                <i data-lucide="calendar"></i>
                <span>Calendar</span>
            </div>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Header -->
        <div class="header">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <h2 id="page-title">Dashboard</h2>
                <button class="btn btn-outline" onclick="window.refreshAllData()" style="padding: 0.5rem 1rem; font-size: 0.9rem;" title="Refresh all data (Ctrl+U)">
                    <i data-lucide="refresh-cw"></i>
                    Refresh
                </button>
            </div>
            <div class="user-info">
                <div class="user-avatar">AD</div>
                <div>
                    <div style="font-weight: 600;">Admin User</div>
                    <div style="font-size: 0.8rem; color: #6b7280;">admin@example.com</div>
                </div>
            </div>
        </div>

        <!-- Dashboard Section -->
        <div id="dashboard-section" class="section">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="total-projects">3</div>
                    <div class="stat-label">Total Projects</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="active-tasks">12</div>
                    <div class="stat-label">Active Tasks</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="team-members">8</div>
                    <div class="stat-label">Team Members</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="completion-rate">85%</div>
                    <div class="stat-label">Completion Rate</div>
                </div>
            </div>

            <div class="content-grid">
                <div class="card">
                    <h3><i data-lucide="trending-up"></i>Recent Activity</h3>
                    <div id="recent-activity">
                        <p>• Project Runway status updated to In Progress</p>
                        <p>• New task assigned to John Doe</p>
                        <p>• Meeting scheduled for tomorrow</p>
                        <p>• Document uploaded to Marketing Campaign</p>
                    </div>
                </div>
                <div class="card">
                    <h3><i data-lucide="alert-circle"></i>Upcoming Deadlines</h3>
                    <div id="upcoming-deadlines">
                        <p>• Project Runway - June 21, 2025</p>
                        <p>• Marketing Review - June 15, 2025</p>
                        <p>• Team Meeting - June 10, 2025</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Projects Section -->
        <div id="projects-section" class="section hidden">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h3>All Projects</h3>
                <button class="btn" onclick="showModal('project-modal')">
                    <i data-lucide="plus"></i>
                    Add Project
                </button>
            </div>
            <div class="table-container">
                <table id="projects-table">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Status</th>
                        <th>Importance</th>
                        <th>Due Date</th>
                        <th>Project Lead</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody id="projects-tbody">
                    <!-- Projects will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Tasks Section -->
        <div id="tasks-section" class="section hidden">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h3>All Tasks</h3>
                <button class="btn" onclick="showModal('task-modal')">
                    <i data-lucide="plus"></i>
                    Add Task
                </button>
            </div>
            <div class="table-container">
                <table id="tasks-table">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Project</th>
                        <th>Status</th>
                        <th>Importance</th>
                        <th>Assignee</th>
                        <th>Due Date</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody id="tasks-tbody">
                    <!-- Tasks will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Users Section -->
        <div id="users-section" class="section hidden">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h3>All Users</h3>
                <button class="btn" onclick="showModal('user-modal')">
                    <i data-lucide="plus"></i>
                    Add User
                </button>
            </div>
            <div class="table-container">
                <table id="users-table">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Role</th>
                        <th>Team</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody id="users-tbody">
                    <!-- Users will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Teams Section -->
        <div id="teams-section" class="section hidden">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h3>All Teams</h3>
                <button class="btn" onclick="showModal('team-modal')">
                    <i data-lucide="plus"></i>
                    Add Team
                </button>
            </div>
            <div class="content-grid">
                <div class="card">
                    <h3><i data-lucide="users"></i>Development Team</h3>
                    <p>Supervisor: John Doe</p>
                    <p>Members: 5</p>
                    <button class="btn btn-outline">View Details</button>
                </div>
                <div class="card">
                    <h3><i data-lucide="users"></i>Marketing Team</h3>
                    <p>Supervisor: Jane Smith</p>
                    <p>Members: 3</p>
                    <button class="btn btn-outline">View Details</button>
                </div>
            </div>
        </div>

        <!-- Calendar Section -->
        <div id="calendar-section" class="section hidden">
            <h3>Project Calendar</h3>
            <div class="card">
                <h3><i data-lucide="calendar-days"></i>Upcoming Events</h3>
                <div>
                    <p><strong>June 10, 2025</strong> - Team Meeting (MEETING)</p>
                    <p><strong>June 15, 2025</strong> - Marketing Review (REVIEW)</p>
                    <p><strong>June 21, 2025</strong> - Project Runway Deadline (DEADLINE)</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Include Modals -->
<div id="modals-container"></div>

<!-- Include JavaScript files -->
<script src="js/app.js"></script>
<script src="js/api.js"></script>
<script src="js/render.js"></script>
<script src="js/forms.js"></script>
<script src="js/init.js"></script>

<!-- Load modals -->
<script>
    // Load modals into the container
    fetch('modals.html')
        .then(response => response.text())
        .then(html => {
            document.getElementById('modals-container').innerHTML = html;
        })
        .catch(error => console.log('Modals not found, using inline modals'));
</script>
</body>
</html>